const core = require('@actions/core');
const github = require('@actions/github');

try {
  console.log(`Running`);
  core.setOutput("id", (new Date()).toTimeString()); //TBD: actual Work Item ID
  const payload = JSON.stringify(github.context.payload, undefined, 2)
  console.log(`Event payload: ${payload}`);
  // TBD: parse out dependency name, versions
  // TBD: get alert data from https://developer.github.com/v4/object/repositoryvulnerabilityalert/
  // TBD: create Issue via https://docs.microsoft.com/en-us/rest/api/azure/devops/?view=azure-devops-rest-5.1
} catch (error) {
  core.setFailed(error.message);
}